(this["webpackJsonpto-do-list-react"]=this["webpackJsonpto-do-list-react"]||[]).push([[0],{18:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n(1),s=n.n(c),i=n(8),r=n.n(i),l=n(2),u=n(5);var o=function(e){var t=e.list,n=e.toggleList,s=e.renameList,i=e.applyRenameList,r=e.cancelRenameList,l=e.getListRenameDefaultValue,u=Object(c.useRef)();function o(){var e=u.current.value;i(t.id,e)}var d="";return t.rename?d+="hide":Object(a.jsxs)("div",{className:"row",children:[Object(a.jsxs)("div",{className:"list",children:[Object(a.jsxs)("span",{className:function(){var e="rename-container ";return t.rename?e:e+"hide"}(),children:[Object(a.jsx)("input",{className:"list-rename-input",onKeyDown:function(e){13===e.keyCode&&o()},ref:u,defaultValue:l(t.id),type:"text"}),Object(a.jsxs)("span",{className:"rename-btns",children:[Object(a.jsx)("button",{className:"small-btn btn-success",onClick:o,children:"Change"}),Object(a.jsx)("button",{className:"small-btn btn-danger",onClick:function(){r(t.id)},children:"Cancel"})]})]}),Object(a.jsx)("label",{className:d,children:Object(a.jsx)("span",{onClick:function(){n(t.id)},className:function(){var e="list-name ";return t.selected&&!t.rename?e+"list-selected":!t.selected&&t.rename?e+"hide":e}(),children:t.name})})]}),Object(a.jsx)("button",{className:function(){var e="small-btn btn-primary ";return t.rename?e+"hide":e}(),onClick:function(){s(t.id)},children:"Rename"})]})};var d=function(e){var t=e.lists,n=e.toggleList,c=e.renameList,s=e.applyRenameList,i=e.cancelRenameList,r=e.getListRenameDefaultValue;return t.map((function(e){return Object(a.jsx)(o,{toggleList:n,renameList:c,getListRenameDefaultValue:r,applyRenameList:s,cancelRenameList:i,list:e},e.id)}))};var m=function(e){var t=e.task,n=e.toggleTask,s=e.renameTask,i=e.applyRenameTask,r=e.cancelRenameTask,l=e.getTaskRenameDefaultValue,u=Object(c.useRef)();function o(){var e=u.current.value;i(t.id,e)}return Object(a.jsxs)("div",{className:"row",children:[Object(a.jsxs)("div",{className:"task",children:[Object(a.jsxs)("span",{className:function(){var e="rename-container ";return t.rename?e:e+"hide"}(),children:[Object(a.jsx)("input",{className:"task-rename-input",onKeyDown:function(e){13===e.keyCode&&o()},ref:u,defaultValue:(console.log(l(t.id)),l(t.id)),type:"text"}),Object(a.jsxs)("span",{className:"rename-btns",children:[Object(a.jsx)("button",{className:"small-btn btn-success",onClick:o,children:"Change"}),Object(a.jsx)("button",{className:"small-btn btn-danger",onClick:function(){r(t.id)},children:"Cancel"})]})]}),Object(a.jsxs)("label",{className:function(){var e="task-label ";return t.rename?e+"hide":e}(),children:[Object(a.jsx)("input",{className:"task-checkbox",type:"checkbox",checked:t.complete,onChange:function(){n(t.id)}}),Object(a.jsx)("span",{className:function(){var e="task-name ";return t.complete?e+"task-completed":e}(),children:t.name})]})]}),Object(a.jsx)("button",{className:function(){var e="small-btn btn-primary ";return t.rename?e+"hide":e}(),onClick:function(){s(t.id)},children:"Rename"})]})};var j=function(e){var t=e.tasks,n=e.toggleTask,c=e.renameTask,s=e.applyRenameTask,i=e.cancelRenameTask,r=e.getTaskRenameDefaultValue;return void 0===t||null===t?null:t.map((function(e){return Object(a.jsx)(m,{toggleTask:n,renameTask:c,getTaskRenameDefaultValue:r,applyRenameTask:s,cancelRenameTask:i,task:e},e.id)}))},f=n(7),b=n.n(f),O="todoApp.list",v="todoApp.selectedListId";var p=function(){var e=Object(c.useState)([]),t=Object(u.a)(e,2),n=t[0],s=t[1],i=Object(c.useState)(),r=Object(u.a)(i,2),o=r[0],m=r[1],f=Object(c.useRef)(),p=Object(c.useRef)(),h=Object(l.a)(n),x=h.find((function(e){return e.id===o}));Object(c.useEffect)((function(){var e=JSON.parse(localStorage.getItem(O)),t=localStorage.getItem(v);e&&s(e),t&&m(t)}),[]),Object(c.useEffect)((function(){localStorage.setItem(O,JSON.stringify(n))}),[n]),Object(c.useEffect)((function(){localStorage.setItem(v,o)}),[o]);var k=function(){return window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth};function g(){var e=Object(c.useState)(k()),t=Object(u.a)(e,2),n=t[0],a=t[1];return Object(c.useEffect)((function(){var e=null,t=function(){clearTimeout(e),e=setTimeout((function(){return a(k())}),150)};return window.addEventListener("resize",t),function(){window.removeEventListener("resize",t)}}),[]),n}function N(e){var t=f.current.value;if(y(h),""!==t){var n=b()();m(n),s((function(e){return[].concat(Object(l.a)(e),[{id:n,name:t,selected:!1,tasks:[],rename:!1}])})),f.current.value=null}}function R(){y(Object(l.a)(n));var e=n.filter((function(e){return!e.selected}));s(e),m(null)}function y(e){e.map((function(e){return e.rename=!1}))}function L(e){var t=Object(l.a)(n),a=p.current.value;if(""!==a){var c=t.find((function(e){return e.id===o}));y(t),C(c),c.tasks.push({id:b()(),name:a,complete:!1,rename:!1}),p.current.value=null,s(t)}}function C(e){e.tasks.map((function(e){return e.rename=!1}))}return Object(a.jsx)("div",{className:"app",children:Object(a.jsxs)("main",{children:[Object(a.jsx)("div",{className:"date-container",children:Object(a.jsx)("h5",{className:"date",children:function(){var e=new Date,t=e.getDate(),n=e.getMonth(),a=e.getFullYear();return t<10&&(t="0"+t),"".concat(["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"][n],". ").concat(t,", ").concat(a)}()})}),Object(a.jsxs)("div",{children:[Object(a.jsx)("div",{className:"page-line"}),Object(a.jsx)("div",{className:"page-line"}),Object(a.jsx)("div",{className:"page-line"}),Object(a.jsx)("div",{className:"page-line"}),Object(a.jsx)("div",{className:"page-line"}),Object(a.jsx)("div",{className:"page-line"}),Object(a.jsx)("div",{className:"page-line"}),Object(a.jsx)("div",{className:"page-line"}),Object(a.jsx)("div",{className:"page-line"}),Object(a.jsx)("div",{className:"page-line"}),Object(a.jsx)("div",{className:"page-line"}),Object(a.jsx)("div",{className:"page-line"}),Object(a.jsx)("div",{className:"page-line"}),Object(a.jsx)("div",{className:"page-line"}),Object(a.jsx)("div",{className:"page-line"}),Object(a.jsx)("div",{className:"page-line"}),Object(a.jsx)("div",{className:"page-line"}),Object(a.jsx)("div",{className:"page-line"}),Object(a.jsx)("div",{className:"page-line"})]}),Object(a.jsxs)("section",{className:function(){var e="todo-lists-container ";return n.filter((function(e){return e.selected})).length<=0?e:e+"shift-todo-lists"}(),children:[Object(a.jsx)("h4",{className:"lists-header",children:"Todo Lists"}),Object(a.jsx)("input",{className:"input-box",ref:f,type:"text",placeholder:"Enter a todo list...",onKeyDown:function(e){13===e.keyCode&&N(e)}}),Object(a.jsx)("button",{className:"btn btn-success",onClick:N,onSubmit:N,children:"Add"}),Object(a.jsx)("button",{className:function(e){var t="btn btn-danger ";return e<=1300?t+"hide":t}(g()),onClick:R,children:"Delete List"}),Object(a.jsx)("div",{className:"count",children:function(){var e=n.filter((function(e){return!e.complete})).length;return e<=0?"no active todo lists!":"".concat(e,1===e?" active todo list":" active todo lists")}()}),Object(a.jsx)("div",{className:"todo-lists",children:Object(a.jsx)(d,{lists:n,toggleList:function(e){var t=n.find((function(t){return t.id===e})),a=Object(l.a)(n);t.selected=!t.selected,y(a),C(t),a.filter((function(t){return t.id!==e})).map((function(e){return e.selected=!1})),s(a),m(e)},renameList:function(e){var t=Object(l.a)(n),a=n.find((function(t){return t.id===e}));y(t),C(a),a.rename=!0,s(t),m(e)},applyRenameList:function(e,t){var a=Object(l.a)(n),c=a.find((function(t){return t.id===e}));c.rename=!1,""!==t&&(c.name=t,s(a),m(e))},cancelRenameList:function(e){var t=Object(l.a)(n);n.find((function(t){return t.id===e})).rename=!1,s(t),m(e)},getListRenameDefaultValue:function(e){return Object(l.a)(n).find((function(t){return t.id===e})).name}})})]}),Object(a.jsxs)("section",{className:function(){var e="task-list-container ";return n.filter((function(e){return e.selected})).length<=0?e+"shift-tasks":e}(),children:[Object(a.jsxs)("div",{className:"btn-container",children:[Object(a.jsx)("button",{className:"btn btn-primary",onClick:function(e){var t=Object(l.a)(n);y(t),t.map((function(e){return e.tasks.map((function(e){return e.rename=!1}))})),t.map((function(e){return e.selected=!1})),s(t),m(null)},children:"Lists"}),Object(a.jsx)("button",{className:function(e){var t="btn btn-danger ";return e<=1300?t:t+"hide"}(g()),onClick:R,children:"Delete List"})]}),Object(a.jsx)("h4",{className:"tasks-header",children:"Tasks"}),Object(a.jsx)("input",{className:"input-box",ref:p,type:"text",placeholder:"Enter a task...",onKeyDown:function(e){13===e.keyCode&&L(e)}}),Object(a.jsx)("button",{className:"btn btn-success",onClick:L,onSubmit:L,children:"Add"}),Object(a.jsx)("button",{className:"btn btn-danger",onClick:function(){var e=Object(l.a)(n),t=n.find((function(e){return e.id===o}));y(e),C(t);var a=t.tasks.filter((function(e){return!e.complete}));t.tasks=a,s(e)},children:"Clear Complete"}),Object(a.jsx)("div",{className:"count",children:function(){if(null!==o&&void 0!==o){var e=n.find((function(e){return e.id===o}));if(null!==e&&void 0!==e){var t=e.tasks.filter((function(e){return!e.complete})).length;return t<=0?"no task left to complete!":"".concat(t,1===t?" task left to complete":" tasks left to complete")}}}()}),Object(a.jsx)("div",{className:"task-list",children:Object(a.jsx)(j,{tasks:x?x.tasks:null,toggleTask:function(e){var t=Object(l.a)(n),a=t.find((function(e){return e.id===o}));y(t),C(a);var c=a.tasks.find((function(t){return t.id===e}));c.complete=!c.complete,s(t)},renameTask:function(e){var t=Object(l.a)(n),a=t.find((function(e){return e.id===o})),c=a.tasks.find((function(t){return t.id===e}));y(t),C(a),c.rename=!0,s(t)},applyRenameTask:function(e,t){var a=Object(l.a)(n),c=a.find((function(e){return e.id===o})).tasks.find((function(t){return t.id===e}));c.rename=!1,""!==t&&(c.name=t,s(a))},cancelRenameTask:function(e){var t=Object(l.a)(n),a=t.find((function(e){return e.id===o})).tasks.find((function(t){return t.id===e}));a.rename=!1,console.log("cancelRenameList function ran and the selected list rename is ".concat(a.rename)),s(t)},getTaskRenameDefaultValue:function(e){var t=Object(l.a)(n).find((function(e){return e.id===o})).tasks.find((function(t){return t.id===e}));return console.log(t.name),t.name}})})]})]})})};r.a.render(Object(a.jsx)(s.a.StrictMode,{children:Object(a.jsx)(p,{})}),document.getElementById("root"))}},[[18,1,2]]]);
//# sourceMappingURL=main.d3bcd3b5.chunk.js.map